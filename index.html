<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…Ø±ÙƒØ² Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ - Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a73e8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* ===== RESET ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            --primary-color: #1a73e8;
            --primary-dark: #0d47a1;
            --secondary-color: #34a853;
            --accent-color: #ea4335;
            --warning-color: #fbbc05;
            
            --bg-color: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #e8eaed;
            --text-color: #202124;
            --text-secondary: #5f6368;
            --border-color: #dadce0;
            
            --shadow-sm: 0 1px 2px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.15);
            
            --border-radius-sm: 8px;
            --border-radius-md: 12px;
            --border-radius-lg: 20px;
            
            --font-primary: 'Tajawal', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        [data-theme="dark"] {
            --primary-color: #8ab4f8;
            --primary-dark: #669df6;
            --secondary-color: #81c995;
            --accent-color: #f28b82;
            --warning-color: #fdd663;
            
            --bg-color: #202124;
            --bg-secondary: #292a2d;
            --bg-tertiary: #3c4043;
            --text-color: #e8eaed;
            --text-secondary: #9aa0a6;
            --border-color: #5f6368;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            direction: rtl;
            min-height: 100vh;
            overflow-x: hidden;
            transition: background-color 0.3s ease;
        }

        /* ===== Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ ===== */
        .top-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: var(--bg-color);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-sm);
        }

        .menu-btn {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--text-color);
            cursor: pointer;
            padding: 8px;
            border-radius: var(--border-radius-sm);
            transition: background-color 0.2s;
        }

        .menu-btn:hover {
            background-color: var(--bg-tertiary);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .logo h1 {
            font-size: 18px;
            font-weight: 700;
        }

        .header-actions {
            display: flex;
            gap: 8px;
        }

        .icon-btn {
            background: none;
            border: none;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.2s;
        }

        .icon-btn:hover {
            background-color: var(--bg-tertiary);
        }

        /* ===== Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ===== */
        .main-content {
            padding: 20px;
            min-height: calc(100vh - 140px);
            max-width: 800px;
            margin: 0 auto;
        }

        .welcome-section {
            text-align: center;
            max-width: 600px;
            margin: 50px auto;
        }

        .welcome-icon {
            font-size: 80px;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .welcome-section h2 {
            font-size: 28px;
            margin-bottom: 15px;
            color: var(--text-color);
        }

        .welcome-text {
            color: var(--text-secondary);
            margin-bottom: 40px;
            font-size: 18px;
        }

        /* ===== Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª ===== */
        .install-btn {
            position: fixed;
            bottom: 80px;
            left: 20px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-family: var(--font-primary);
            font-size: 14px;
            cursor: pointer;
            z-index: 1000;
            display: none;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(26, 115, 232, 0.3);
            animation: pulseInstall 2s infinite;
            transition: all 0.3s;
        }

        @keyframes pulseInstall {
            0% { box-shadow: 0 4px 15px rgba(26, 115, 232, 0.3); }
            50% { box-shadow: 0 6px 20px rgba(26, 115, 232, 0.5); }
            100% { box-shadow: 0 4px 15px rgba(26, 115, 232, 0.3); }
        }

        .install-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(26, 115, 232, 0.5);
        }

        /* ===== Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡ ===== */
        .alert-bar {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 12px 20px;
            display: none;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 2000;
        }

        .close-alert {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
        }

        /* ===== Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ« ===== */
        .update-notification {
            position: fixed;
            top: 70px;
            left: 20px;
            right: 20px;
            background: linear-gradient(135deg, #fbbc05, #f29900);
            color: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            z-index: 9999;
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡ -->
    <div class="alert-bar" id="alertBar">
        <span id="alertText">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span>
        <button class="close-alert" onclick="hideAlert()">âœ•</button>
    </div>

    <!-- Ø²Ø± ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ -->
    <button class="install-btn" id="installBtn">
        <i class="fas fa-download"></i> ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    </button>

    <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
    <header class="top-bar">
        <button class="menu-btn" onclick="toggleSidebar()">
            <i class="fas fa-bars"></i>
        </button>
        
        <div class="logo">
            <div class="logo-icon">
                <i class="fas fa-brain"></i>
            </div>
            <h1>Ù…Ø±ÙƒØ² Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h1>
        </div>
        
        <div class="header-actions">
            <button class="icon-btn" onclick="toggleTheme()" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù…Ø©">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <main class="main-content">
        <div class="welcome-section">
            <div class="welcome-icon">
                <i class="fas fa-robot"></i>
            </div>
            <h2>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù…Ø±ÙƒØ² Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h2>
            <p class="welcome-text" id="welcomeText">Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ù…Ù„ Ø§Ù„Ø¢Ù†! ØªÙ… Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©.</p>
            
            <div style="margin-top: 40px;">
                <p style="color: var(--text-secondary); margin-bottom: 20px;">Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ Ø§Ù„Ø¢Ù†.</p>
                <button class="icon-btn" onclick="showAlert('âœ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­', 'success')" style="background-color: var(--primary-color); color: white;">
                    <i class="fas fa-check"></i> Ø§Ø®ØªØ¨Ø±
                </button>
            </div>
        </div>
    </main>

    <script>
        // ===== Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ =====
        let isDarkMode = false;
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        function initApp() {
            console.log('ğŸš€ Ø¨Ø¯Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚...');
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
            loadSettings();
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ PWA
            setupPWA();
            
            // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
            showAlert('âœ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙŠØ¹Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            
            console.log('âœ… Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§ÙƒØªÙ…Ù„Øª');
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        function loadSettings() {
            const savedDarkMode = localStorage.getItem('darkMode') === 'true';
            if (savedDarkMode) {
                toggleTheme();
            }
        }
        
        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø¸Ù„Ù…
        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.documentElement.setAttribute('data-theme', isDarkMode ? 'dark' : 'light');
            localStorage.setItem('darkMode', isDarkMode);
            
            const themeIcon = document.querySelector('.icon-btn .fa-moon');
            if (themeIcon) {
                themeIcon.className = isDarkMode ? 'fas fa-sun' : 'fas fa-moon';
            }
        }
        
        // ===== PWA ÙˆØ§Ù„ØªØ«Ø¨ÙŠØª =====
        function setupPWA() {
            // ØªØ³Ø¬ÙŠÙ„ Service Worker
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('âœ… Service Worker Ù…Ø³Ø¬Ù„:', registration.scope);
                    })
                    .catch(error => {
                        console.log('âŒ ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Service Worker:', error);
                    });
            }
            
            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø²Ø± Ø§Ù„ØªØ«Ø¨ÙŠØª
            setupInstallButton();
        }
        
        function setupInstallButton() {
            let deferredPrompt;
            
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                
                const installBtn = document.getElementById('installBtn');
                if (installBtn) {
                    installBtn.style.display = 'flex';
                    
                    installBtn.onclick = async () => {
                        installBtn.style.display = 'none';
                        if (!deferredPrompt) return;
                        
                        deferredPrompt.prompt();
                        const { outcome } = await deferredPrompt.userChoice;
                        
                        if (outcome === 'accepted') {
                            showAlert('âœ… ØªÙ… ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                        }
                        
                        deferredPrompt = null;
                    };
                }
            });
            
            window.addEventListener('appinstalled', () => {
                const installBtn = document.getElementById('installBtn');
                if (installBtn) installBtn.style.display = 'none';
                showAlert('ğŸ‰ ØªÙ… ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ!', 'success');
            });
        }
        
        // ===== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© =====
        function showAlert(message, type = 'info') {
            const alertBar = document.getElementById('alertBar');
            const alertText = document.getElementById('alertText');
            
            const colors = {
                success: '#34a853',
                error: '#ea4335',
                warning: '#fbbc05',
                info: '#1a73e8'
            };
            
            alertBar.style.background = `linear-gradient(135deg, ${colors[type]}, ${colors[type]}99)`;
            alertText.textContent = message;
            alertBar.style.display = 'flex';
            
            setTimeout(() => {
                hideAlert();
            }, 3000);
        }
        
        function hideAlert() {
            document.getElementById('alertBar').style.display = 'none';
        }
        
        function toggleSidebar() {
            showAlert('Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© - Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±', 'info');
        }
        
        // ===== Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ =====
        document.addEventListener('DOMContentLoaded', initApp);
        
        // Ø¬Ø¹Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…ØªØ§Ø­Ø© Ø¹Ø§Ù„Ù…ÙŠÙ‹Ø§
        window.toggleSidebar = toggleSidebar;
        window.toggleTheme = toggleTheme;
        window.hideAlert = hideAlert;
        window.showAlert = showAlert;
    </script>
</body>
</html>